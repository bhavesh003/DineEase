<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart History</title>
</head>

<body>
    <h1>Cart History</h1>
    <table id="history-table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Price</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <p>Total Price: <span class="total-price"></span></p>
    <button class="back-to-menu">Back to Menu</button>

    <script>
        // Add the item to the cart history
        // Get the cart items from local storage
        const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

        // Get the table body element
        const tableBody = document.querySelector('#history-table tbody');
        const totalPriceElement = document.querySelector('.total-price');

        // Loop through the cart items and render them in the table
        let totalPrice = 0;
        cartItems.forEach(item => {
            const row = document.createElement('tr');
            const nameCell = document.createElement('td');
            nameCell.textContent = item.name;
            const priceCell = document.createElement('td');
            priceCell.textContent = item.price;
            row.appendChild(nameCell);
            row.appendChild(priceCell);
            tableBody.appendChild(row);

            let itemPrice = parseInt(item.price.slice(3));
            totalPrice += itemPrice;
        });

        // Set the total price as text content
        totalPriceElement.textContent = 'Rs ' + totalPrice;

        // Add a click event listener to the "Back to Menu" button
        const backToMenuButton = document.querySelector('.back-to-menu');
        backToMenuButton.addEventListener('click', () => {
            window.location.href = 'HomePage.html';
        });

    </script>

</body>

</html>