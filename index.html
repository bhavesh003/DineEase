<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1, width=device-width" />
  <link rel="stylesheet" href="global.css" />
  <link rel="stylesheet" href="index.css" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,100;0,400;0,600;0,700;1,600&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" />
  <title>DineEase</title>
</head>

<body>
  <div class="login-page">
    <img class="login-page-child" alt="" src="./public/rectangle-3@2x.png" />
    <div class="login">Login</div>
    
    <!-- Input fields for mobile number and OTP -->
    <div class="login-page-item"></div>
    <input class="login-page-inner" type="number" placeholder="Enter Mobile Number" min="{10}" max="{10}" required />
    <h2 class="mobile-number">Mobile Number</h2>
    
    <input class="frame-input" type="number" placeholder="Enter 4 digit OTP" max="{4}" required />
    <div class="otp">OTP</div>
    
    <!-- Login button -->
    <button class="rectangle-button" id="rectangleButton" disabled>Login</button>
  </div>

  <script>
    // Get the input fields and login button
    var mobileNumberInput = document.querySelector('.login-page-inner');
    var otpInput = document.querySelector('.frame-input');
    var rectangleButton = document.getElementById("rectangleButton");

    // Function to validate mobile number (you can adjust the validation logic as needed)
    function isValidMobileNumber(number) {
      // Check if the number has exactly 10 digits
      return /^\d{10}$/.test(number);
    }

    // Function to validate OTP (you can adjust the validation logic as needed)
    function isValidOTP(otp) {
      // Check if the OTP has exactly 4 digits
      return /^\d{4}$/.test(otp);
    }

    // Function to enable or disable login button based on input validity
    function updateLoginButton() {
      if (isValidMobileNumber(mobileNumberInput.value) && isValidOTP(otpInput.value)) {
        rectangleButton.disabled = false;
      } else {
        rectangleButton.disabled = true;
      }
    }

    // Function to show alert for wrong mobile number or OTP
    function showAlert(message) {
      console.log("Showing alert:", message); // Log the message to the console for debugging
      alert(message);
    }

    // Event listeners for input fields to update login button status
    mobileNumberInput.addEventListener('input', updateLoginButton);
    otpInput.addEventListener('input', updateLoginButton);

    // Event listener for login button click
    rectangleButton.addEventListener("click", function (e) {
      // Prevent the default form submission behavior
      e.preventDefault();

      // Validate mobile number and OTP before redirecting
      if (!isValidMobileNumber(mobileNumberInput.value)) {
        showAlert("Please enter a valid mobile number.");
      } else if (!isValidOTP(otpInput.value)) {
        showAlert("Please enter a valid OTP.");
      } else {
        // Redirect to HomePage.html
        window.location.href = "HomePage.html";
      }
    });
  </script>
</body>

</html>
